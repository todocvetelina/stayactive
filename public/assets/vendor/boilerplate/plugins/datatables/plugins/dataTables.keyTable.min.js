var $jscomp=$jscomp||{};$jscomp.scope={},$jscomp.arrayIteratorImpl=function(t){var e=0;return function(){return e<t.length?{done:!1,value:t[e++]}:{done:!0}}},$jscomp.arrayIterator=function(t){return{next:$jscomp.arrayIteratorImpl(t)}},$jscomp.ASSUME_ES5=!1,$jscomp.ASSUME_NO_NATIVE_MAP=!1,$jscomp.ASSUME_NO_NATIVE_SET=!1,$jscomp.SIMPLE_FROUND_POLYFILL=!1,$jscomp.ISOLATE_POLYFILLS=!1,$jscomp.defineProperty=$jscomp.ASSUME_ES5||"function"==typeof Object.defineProperties?Object.defineProperty:function(t,e,o){return t==Array.prototype||t==Object.prototype||(t[e]=o.value),t},$jscomp.getGlobal=function(t){t=["object"==typeof globalThis&&globalThis,t,"object"==typeof window&&window,"object"==typeof self&&self,"object"==typeof global&&global];for(var e=0;e<t.length;++e){var o=t[e];if(o&&o.Math==Math)return o}throw Error("Cannot find global object")},$jscomp.global=$jscomp.getGlobal(this),$jscomp.IS_SYMBOL_NATIVE="function"==typeof Symbol&&"symbol"==typeof Symbol("x"),$jscomp.TRUST_ES6_POLYFILLS=!$jscomp.ISOLATE_POLYFILLS||$jscomp.IS_SYMBOL_NATIVE,$jscomp.polyfills={},$jscomp.propertyToPolyfillSymbol={},$jscomp.POLYFILL_PREFIX="$jscp$";var $jscomp$lookupPolyfilledValue=function(t,e){var o=$jscomp.propertyToPolyfillSymbol[e];return null==o?t[e]:void 0!==(o=t[o])?o:t[e]};$jscomp.polyfill=function(t,e,o,n){e&&($jscomp.ISOLATE_POLYFILLS?$jscomp.polyfillIsolated(t,e,o,n):$jscomp.polyfillUnisolated(t,e,o,n))},$jscomp.polyfillUnisolated=function(t,e,o,n){for(o=$jscomp.global,t=t.split("."),n=0;n<t.length-1;n++){var i=t[n];if(!(i in o))return;o=o[i]}(e=e(n=o[t=t[t.length-1]]))!=n&&null!=e&&$jscomp.defineProperty(o,t,{configurable:!0,writable:!0,value:e})},$jscomp.polyfillIsolated=function(t,e,o,n){var i=t.split(".");t=1===i.length,n=i[0],n=!t&&n in $jscomp.polyfills?$jscomp.polyfills:$jscomp.global;for(var s=0;s<i.length-1;s++){var l=i[s];if(!(l in n))return;n=n[l]}i=i[i.length-1],null!=(e=e(o=$jscomp.IS_SYMBOL_NATIVE&&"es6"===o?n[i]:null))&&(t?$jscomp.defineProperty($jscomp.polyfills,i,{configurable:!0,writable:!0,value:e}):e!==o&&($jscomp.propertyToPolyfillSymbol[i]=$jscomp.IS_SYMBOL_NATIVE?$jscomp.global.Symbol(i):$jscomp.POLYFILL_PREFIX+i,i=$jscomp.propertyToPolyfillSymbol[i],$jscomp.defineProperty(n,i,{configurable:!0,writable:!0,value:e})))},$jscomp.initSymbol=function(){},$jscomp.polyfill("Symbol",(function(t){if(t)return t;var e=function(t,e){this.$jscomp$symbol$id_=t,$jscomp.defineProperty(this,"description",{configurable:!0,writable:!0,value:e})};e.prototype.toString=function(){return this.$jscomp$symbol$id_};var o=0,n=function(t){if(this instanceof n)throw new TypeError("Symbol is not a constructor");return new e("jscomp_symbol_"+(t||"")+"_"+o++,t)};return n}),"es6","es3"),$jscomp.initSymbolIterator=function(){},$jscomp.polyfill("Symbol.iterator",(function(t){if(t)return t;t=Symbol("Symbol.iterator");for(var e="Array Int8Array Uint8Array Uint8ClampedArray Int16Array Uint16Array Int32Array Uint32Array Float32Array Float64Array".split(" "),o=0;o<e.length;o++){var n=$jscomp.global[e[o]];"function"==typeof n&&"function"!=typeof n.prototype[t]&&$jscomp.defineProperty(n.prototype,t,{configurable:!0,writable:!0,value:function(){return $jscomp.iteratorPrototype($jscomp.arrayIteratorImpl(this))}})}return t}),"es6","es3"),$jscomp.initSymbolAsyncIterator=function(){},$jscomp.iteratorPrototype=function(t){return(t={next:t})[Symbol.iterator]=function(){return this},t},$jscomp.iteratorFromArray=function(t,e){t instanceof String&&(t+="");var o=0,n={next:function(){if(o<t.length){var i=o++;return{value:e(i,t[i]),done:!1}}return n.next=function(){return{done:!0,value:void 0}},n.next()}};return n[Symbol.iterator]=function(){return n},n},$jscomp.polyfill("Array.prototype.keys",(function(t){return t||function(){return $jscomp.iteratorFromArray(this,(function(t){return t}))}}),"es6","es3"),function(t){"function"==typeof define&&define.amd?define(["jquery","datatables.net"],(function(e){return t(e,window,document)})):"object"==typeof exports?module.exports=function(e,o){return e||(e=window),o&&o.fn.dataTable||(o=require("datatables.net")(e,o).$),t(o,e,e.document)}:t(jQuery,window,document)}((function(t,e,o,n){var i=t.fn.dataTable,s=0,l=0,r=function(e,o){if(!i.versionCheck||!i.versionCheck("1.10.8"))throw"KeyTable requires DataTables 1.10.8 or newer";if(this.c=t.extend(!0,{},i.defaults.keyTable,r.defaults,o),this.s={dt:new i.Api(e),enable:!0,focusDraw:!1,waitingForDraw:!1,lastFocus:null,namespace:".keyTable-"+s++,tabInput:null},this.dom={},o=(e=this.s.dt.settings()[0]).keytable)return o;e.keytable=this,this._constructor()};return t.extend(r.prototype,{blur:function(){this._blur()},enable:function(t){this.s.enable=t},enabled:function(){return this.s.enable},focus:function(t,e){this._focus(this.s.dt.cell(t,e))},focused:function(t){if(!this.s.lastFocus)return!1;var e=this.s.lastFocus.cell.index();return t.row===e.row&&t.column===e.column},_constructor:function(){this._tabInput();var e=this,n=this.s.dt,i=t(n.table().node()),s=this.s.namespace,l=!1;if("static"===i.css("position")&&i.css("position","relative"),t(n.table().body()).on("click"+s,"th, td",(function(t){if(!1!==e.s.enable){var o=n.cell(this);o.any()&&e._focus(o,null,!1,t)}})),t(o).on("keydown"+s,(function(t){l||e._key(t)})),this.c.blurable&&t(o).on("mousedown"+s,(function(o){t(o.target).parents(".dataTables_filter").length&&e._blur(),t(o.target).parents().filter(n.table().container()).length||t(o.target).parents("div.DTE").length||t(o.target).parents("div.editor-datetime").length||t(o.target).parents("div.dt-datetime").length||t(o.target).parents().filter(".DTFC_Cloned").length||e._blur()})),this.c.editor){var r=this.c.editor;r.on("open.keyTableMain",(function(t,o,n){"inline"!==o&&e.s.enable&&(e.enable(!1),r.one("close"+s,(function(){e.enable(!0)})))})),this.c.editOnFocus&&n.on("key-focus"+s+" key-refocus"+s,(function(t,o,n,i){e._editor(null,i,!0)})),n.on("key"+s,(function(t,o,n,i,s){e._editor(n,s,!1)})),t(n.table().body()).on("dblclick"+s,"th, td",(function(t){!1!==e.s.enable&&n.cell(this).any()&&(e.s.lastFocus&&this!==e.s.lastFocus.cell.node()||e._editor(null,t,!0))})),r.on("preSubmit",(function(){l=!0})).on("preSubmitCancelled",(function(){l=!1})).on("submitComplete",(function(){l=!1}))}n.settings()[0].oFeatures.bStateSave&&n.on("stateSaveParams"+s,(function(t,o,n){n.keyTable=e.s.lastFocus?e.s.lastFocus.cell.index():null})),n.on("column-visibility"+s,(function(t){e._tabInput()})),n.on("draw"+s,(function(t){if(e._tabInput(),!e.s.focusDraw&&e.s.lastFocus){var o=e.s.lastFocus.relative,i=n.page.info(),s=o.row+i.start;0!==i.recordsDisplay&&(s>=i.recordsDisplay&&(s=i.recordsDisplay-1),e._focus(s,o.column,!0,t))}})),this.c.clipboard&&this._clipboard(),n.on("destroy"+s,(function(){e._blur(!0),n.off(s),t(n.table().body()).off("click"+s,"th, td").off("dblclick"+s,"th, td"),t(o).off("mousedown"+s).off("keydown"+s).off("copy"+s).off("paste"+s)}));var a=n.state.loaded();a&&a.keyTable?n.one("init",(function(){var t=n.cell(a.keyTable);t.any()&&t.focus()})):this.c.focus&&n.cell(this.c.focus).focus()},_blur:function(e){if(this.s.enable&&this.s.lastFocus){var o=this.s.lastFocus.cell;t(o.node()).removeClass(this.c.className),this.s.lastFocus=null,e||(this._updateFixedColumns(o.index().column),this._emitEvent("key-blur",[this.s.dt,o]))}},_clipboard:function(){var n=this.s.dt,i=this,s=this.s.namespace;e.getSelection&&(t(o).on("copy"+s,(function(t){t=t.originalEvent;var o=e.getSelection().toString(),n=i.s.lastFocus;!o&&n&&(t.clipboardData.setData("text/plain",n.cell.render(i.c.clipboardOrthogonal)),t.preventDefault())})),t(o).on("paste"+s,(function(t){var s,l=t.originalEvent,r=i.s.lastFocus,a=o.activeElement;t=i.c.editor,!r||a&&"body"!==a.nodeName.toLowerCase()||(l.preventDefault(),e.clipboardData&&e.clipboardData.getData?s=e.clipboardData.getData("Text"):l.clipboardData&&l.clipboardData.getData&&(s=l.clipboardData.getData("text/plain")),t?(l=i._inlineOptions(r.cell.index()),t.inline(l.cell,l.field,l.options).set(t.displayed()[0],s).submit()):(r.cell.data(s),n.draw(!1)))})))},_columns:function(){var t=this.s.dt,e=t.columns(this.c.columns).indexes(),o=[];return t.columns(":visible").every((function(t){-1!==e.indexOf(t)&&o.push(t)})),o},_editor:function(e,n,i){if(this.s.lastFocus&&(!n||"draw"!==n.type)){var s=this,r=this.s.dt,a=this.c.editor,c=this.s.lastFocus.cell,u=this.s.namespace+"e"+l++;if(!(t("div.DTE",c.node()).length||null!==e&&(0<=e&&9>=e||11===e||12===e||14<=e&&31>=e||112<=e&&123>=e||127<=e&&159>=e))){n&&(n.stopPropagation(),13===e&&n.preventDefault());var f=function(){var e=s._inlineOptions(c.index());a.one("open"+u,(function(){a.off("cancelOpen"+u),i||t("div.DTE_Field_InputControl input, div.DTE_Field_InputControl textarea").select(),r.keys.enable(i?"tab-only":"navigation-only"),r.on("key-blur.editor",(function(t,e,o){a.displayed()&&o.node()===c.node()&&a.submit()})),i&&t(r.table().container()).addClass("dtk-focus-alt"),a.on("preSubmitCancelled"+u,(function(){setTimeout((function(){s._focus(c,null,!1)}),50)})),a.on("submitUnsuccessful"+u,(function(){s._focus(c,null,!1)})),a.one("close"+u,(function(){r.keys.enable(!0),r.off("key-blur.editor"),a.off(u),t(r.table().container()).removeClass("dtk-focus-alt"),s.s.returnSubmit&&(s.s.returnSubmit=!1,s._emitEvent("key-return-submit",[r,c]))}))})).one("cancelOpen"+u,(function(){a.off(u)})).inline(e.cell,e.field,e.options)};13===e?(i=!0,t(o).one("keyup",(function(){f()}))):f()}}},_inlineOptions:function(t){return this.c.editorOptions?this.c.editorOptions(t):{cell:t,field:n,options:n}},_emitEvent:function(e,o){this.s.dt.iterator("table",(function(n,i){t(n.nTable).triggerHandler(e,o)}))},_focus:function(i,s,l,r){var a=this,c=this.s.dt,u=c.page.info(),f=this.s.lastFocus;if(r||(r=null),this.s.enable){if("number"!=typeof i){if(!i.any())return;var p=i.index();if(s=p.column,0>(i=c.rows({filter:"applied",order:"applied"}).indexes().indexOf(p.row)))return;u.serverSide&&(i+=u.start)}if(-1!==u.length&&(i<u.start||i>=u.start+u.length))this.s.focusDraw=!0,this.s.waitingForDraw=!0,c.one("draw",(function(){a.s.focusDraw=!1,a.s.waitingForDraw=!1,a._focus(i,s,n,r)})).page(Math.floor(i/u.length)).draw(!1);else if(-1!==t.inArray(s,this._columns())){if(u.serverSide&&(i-=u.start),u=c.cells(null,s,{search:"applied",order:"applied"}).flatten(),u=c.cell(u[i]),f){if(f.node===u.node())return void this._emitEvent("key-refocus",[this.s.dt,u,r||null]);this._blur()}this._removeOtherFocus(),(f=t(u.node())).addClass(this.c.className),this._updateFixedColumns(s),l!==n&&!0!==l||(this._scroll(t(e),t(o.body),f,"offset"),(l=c.table().body().parentNode)!==c.table().header().parentNode&&(l=t(l.parentNode),this._scroll(l,l,f,"position"))),this.s.lastFocus={cell:u,node:u.node(),relative:{row:c.rows({page:"current"}).indexes().indexOf(u.index().row),column:u.index().column}},this._emitEvent("key-focus",[this.s.dt,u,r||null]),c.state.save()}}},_key:function(e){if(this.s.waitingForDraw)e.preventDefault();else{var o=this.s.enable;this.s.returnSubmit=("navigation-only"===o||"tab-only"===o)&&13===e.keyCode;var n=!0===o||"navigation-only"===o;if(o&&(!(0===e.keyCode||e.ctrlKey||e.metaKey||e.altKey)||e.ctrlKey&&e.altKey)){var i=this.s.lastFocus;if(i)if(this.s.dt.cell(i.node).any()){i=this.s.dt;var s=!!this.s.dt.settings()[0].oScroll.sY;if(!this.c.keys||-1!==t.inArray(e.keyCode,this.c.keys))switch(e.keyCode){case 9:this._shift(e,e.shiftKey?"left":"right",!0);break;case 27:this.c.blurable&&!0===o&&this._blur();break;case 33:case 34:n&&!s&&(e.preventDefault(),i.page(33===e.keyCode?"previous":"next").draw(!1));break;case 35:case 36:n&&(e.preventDefault(),o=i.cells({page:"current"}).indexes(),n=this._columns(),this._focus(i.cell(o[35===e.keyCode?o.length-1:n[0]]),null,!0,e));break;case 37:n&&this._shift(e,"left");break;case 38:n&&this._shift(e,"up");break;case 39:n&&this._shift(e,"right");break;case 40:n&&this._shift(e,"down");break;case 113:if(this.c.editor){this._editor(null,e,!0);break}default:!0===o&&this._emitEvent("key",[i,e.keyCode,this.s.lastFocus.cell,e])}}else this.s.lastFocus=null}}},_removeOtherFocus:function(){var e=this.s.dt.table().node();t.fn.dataTable.tables({api:!0}).iterator("table",(function(t){this.table().node()!==e&&this.cell.blur()}))},_scroll:function(t,e,o,n){var i=o[n](),s=o.outerHeight(),l=o.outerWidth(),r=e.scrollTop(),a=e.scrollLeft(),c=t.height();t=t.width(),"position"===n&&(i.top+=parseInt(o.closest("table").css("top"),10)),i.top<r&&e.scrollTop(i.top),i.left<a&&e.scrollLeft(i.left),i.top+s>r+c&&s<c&&e.scrollTop(i.top+s-c),i.left+l>a+t&&l<t&&e.scrollLeft(i.left+l-t)},_shift:function(e,o,n){var i=this.s.dt,s=i.page.info(),l=s.recordsDisplay,r=this._columns(),a=this.s.lastFocus;if(a){var c=a.cell;c&&(a=i.rows({filter:"applied",order:"applied"}).indexes().indexOf(c.index().row),s.serverSide&&(a+=s.start),s=i.columns(r).indexes().indexOf(c.index().column),c=r[s],"rtl"===t(i.table().node()).css("direction")&&("right"===o?o="left":"left"===o&&(o="right")),"right"===o?s>=r.length-1?(a++,c=r[0]):c=r[s+1]:"left"===o?0===s?(a--,c=r[r.length-1]):c=r[s-1]:"up"===o?a--:"down"===o&&a++,0<=a&&a<l&&-1!==t.inArray(c,r)?(e&&e.preventDefault(),this._focus(a,c,!0,e)):n&&this.c.blurable?this._blur():e&&e.preventDefault())}},_tabInput:function(){var e=this,o=this.s.dt,n=null!==this.c.tabIndex?this.c.tabIndex:o.settings()[0].iTabIndex;-1!=n&&(this.s.tabInput||((n=t('<div><input type="text" tabindex="'+n+'"/></div>').css({position:"absolute",height:1,width:0,overflow:"hidden"})).children().on("focus",(function(t){var n=o.cell(":eq(0)",e._columns(),{page:"current"});n.any()&&e._focus(n,null,!0,t)})),this.s.tabInput=n),(n=this.s.dt.cell(":eq(0)","0:visible",{page:"current",order:"current"}).node())&&t(n).prepend(this.s.tabInput))},_updateFixedColumns:function(t){var e=this.s.dt,o=e.settings()[0];if(o._oFixedColumns){var n=o.aoColumns.length-o._oFixedColumns.s.iRightColumns;(t<o._oFixedColumns.s.iLeftColumns||t>=n)&&e.fixedColumns().update()}}}),r.defaults={blurable:!0,className:"focus",clipboard:!0,clipboardOrthogonal:"display",columns:"",editor:null,editOnFocus:!1,editorOptions:null,focus:null,keys:null,tabIndex:null},r.version="2.6.4",t.fn.dataTable.KeyTable=r,t.fn.DataTable.KeyTable=r,i.Api.register("cell.blur()",(function(){return this.iterator("table",(function(t){t.keytable&&t.keytable.blur()}))})),i.Api.register("cell().focus()",(function(){return this.iterator("cell",(function(t,e,o){t.keytable&&t.keytable.focus(e,o)}))})),i.Api.register("keys.disable()",(function(){return this.iterator("table",(function(t){t.keytable&&t.keytable.enable(!1)}))})),i.Api.register("keys.enable()",(function(t){return this.iterator("table",(function(e){e.keytable&&e.keytable.enable(t===n||t)}))})),i.Api.register("keys.enabled()",(function(t){return!!(t=this.context).length&&(!!t[0].keytable&&t[0].keytable.enabled())})),i.Api.register("keys.move()",(function(t){return this.iterator("table",(function(e){e.keytable&&e.keytable._shift(null,t,!1)}))})),i.ext.selector.cell.push((function(t,e,o){e=e.focused;var i=[];if(!(t=t.keytable)||e===n)return o;for(var s=0,l=o.length;s<l;s++)(!0===e&&t.focused(o[s])||!1===e&&!t.focused(o[s]))&&i.push(o[s]);return i})),t(o).on("preInit.dt.dtk",(function(e,o,n){"dt"===e.namespace&&(e=o.oInit.keys,n=i.defaults.keys,e||n)&&(n=t.extend({},n,e),!1!==e&&new r(o,n))})),r}));
